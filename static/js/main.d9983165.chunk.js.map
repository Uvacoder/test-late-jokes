{"version":3,"sources":["util/index.js","components/Loading.js","pages/Random.js","pages/Search.js","index.js"],"names":["urlToParams","str","slice","split","filter","d","length","reduce","params","hash","_hash$split","_hash$split2","Object","slicedToArray","key","val","valGood","undefined","decodeURIComponent","assign","defineProperty","paramsToUrl","obj","entries","_ref","_ref2","map","_ref3","_ref4","concat","encodeURIComponent","join","API_BASE","SUGGESTED_QUERIES","HOST_OPTIONS","id","display","YEAR_OPTIONS","ORDER_OPTIONS","OPTION_DATA","host","year","order","getInitialValue","curr","objectSpread","value","options","find","o","Skeleton","_ref$className","className","width","react_default","a","createElement","style","Loading","_ref2$entries","Loading_Skeleton","toConsumableArray","Array","_","i","Random","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","jokes","isLoading","Component","enc","txt","Search","handleQueryChange","e","query","target","setState","handleSelectChange","_e$target","name","fetchJokes","handleSuggestionClick","preventDefault","handleSubmit","asyncToGenerator","regenerator_default","mark","_callee","_this$state","urlParams","response","data","wrap","_context","prev","next","updateUrl","abrupt","hasError","lastSearchedQuery","fetch","sent","json","results","t0","console","log","stop","_this$props","location","history","_this$state2","paramStr","search","push","n","_this2","_this$state3","href","rel","index_esm","react_router_dom","to","onSubmit","type","placeholder","onChange","required","disabled","option","suggestion","onClick","Loading_Loading","joke","text","date","ReactDOM","render","react_router","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.d9983165.chunk.js","sourcesContent":["export const urlToParams = str =>\n  str\n    .slice(1)\n    .split(\"&\")\n    .filter(d => d.length)\n    .reduce((params, hash) => {\n      const [key, val] = hash.split(\"=\");\n      const valGood = val === undefined ? null : decodeURIComponent(val);\n      return Object.assign(params, { [key]: valGood });\n    }, {});\n\nexport const paramsToUrl = obj =>\n  Object.entries(obj)\n    .filter(([_, val]) => val !== \"\")\n    .map(([key, val]) => `${key}=${encodeURIComponent(val)}`)\n    .join(\"&\");\n\nexport const API_BASE = \"https://late-night-jokes-api.herokuapp.com/\";\n\nexport const API_RESULTS_LIMIT = 500;\n\nexport const SUGGESTED_QUERIES = [\"Trump\", \"NFL\", \"Pope\", \"Facebook\"];\n\nexport const HOST_OPTIONS = [\n  { id: \"\", display: \"All hosts\" },\n  { id: \"conan\", display: \"Conan O'Brien\" },\n  { id: \"ferguson\", display: \"Craig Ferguson\" },\n  { id: \"letterman\", display: \"David Letterman\" },\n  { id: \"corden\", display: \"James Corden\" },\n  { id: \"leno\", display: \"Jay Leno\" },\n  { id: \"fallon\", display: \"Jimmy Fallon\" },\n  { id: \"kimmel\", display: \"Jimmy Kimmel\" },\n  { id: \"meyers\", display: \"Seth Meyers\" },\n  { id: \"colbert\", display: \"Stephen Colbert\" }\n];\n\nexport const YEAR_OPTIONS = [\n  { id: \"\", display: \"All years\" },\n  { id: \"2009\", display: \"2009\" },\n  { id: \"2010\", display: \"2010\" },\n  { id: \"2011\", display: \"2011\" },\n  { id: \"2012\", display: \"2012\" },\n  { id: \"2013\", display: \"2013\" },\n  { id: \"2014\", display: \"2014\" },\n  { id: \"2015\", display: \"2015\" },\n  { id: \"2016\", display: \"2016\" },\n  { id: \"2017\", display: \"2017\" },\n  { id: \"2018\", display: \"2018\" }\n];\n\nexport const ORDER_OPTIONS = [\n  { id: \"\", display: \"New to old\" },\n  { id: \"date\", display: \"Old to new\" },\n  { id: \"host\", display: \"Host (A to Z)\" }\n];\n\nexport const OPTION_DATA = {\n  host: HOST_OPTIONS,\n  year: YEAR_OPTIONS,\n  order: ORDER_OPTIONS\n};\n\nexport const HOST_NAME_LOOKUP = HOST_OPTIONS.slice(1).reduce(\n  (obj, curr) => ({\n    ...obj,\n    [curr.id]: curr.display\n  }),\n  {}\n);\n\nexport const getInitialValue = (key, value) => {\n  const options = OPTION_DATA[key];\n  return options && options.find(o => o.id === value) ? value : options[0].id;\n};\n\nconst enc = txt => encodeURIComponent(txt);\n\nexport const tweetUrl = data => {\n  const url = window.location.origin;\n  const msg = \"😂📔🔍 Late Night Joke Library :: 10+ years, 30k+ jokes\";\n  return `https://twitter.com/intent/tweet?text=${enc(msg)}&url=${enc(url)}`;\n};\n","import React from \"react\";\n\nexport const Skeleton = ({ className = \"\", width }) => (\n  <div className={`skeleton-line ${className}`} style={{ width }} />\n);\n\nexport const Loading = ({ entries = 50 }) => (\n  <div>\n    <div className=\"mb2 flex items-center justify-between\">\n      <Skeleton width={70} />\n      <Skeleton className=\"h2\" width={100} />\n    </div>\n    {[...Array(entries)].map((_, i) => (\n      <div key={i} className=\"mb3 pl2 py2 result\">\n        <div className=\"mb2\">\n          <Skeleton className=\"mb1 h3\" width=\"60%\" />\n          <Skeleton className=\"mb1 h3\" width=\"80%\" />\n        </div>\n        <Skeleton className=\"h5\" width=\"30%\" />\n      </div>\n    ))}\n  </div>\n);\n","import React, { Component } from \"react\";\nimport { FiFacebook, FiTwitter } from \"react-icons/fi\";\nimport { Link } from \"react-router-dom\";\n\nimport { paramsToUrl, urlToParams, API_BASE } from \"../util\";\nimport { Loading } from \"../components/Loading\";\n\nclass Random extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      jokes: null,\n      isLoading: false\n    };\n  }\n\n  componentDidMount() {\n    // TODO\n  }\n\n  render() {\n    return (\n      <div className=\"app container mx-auto p2\">\n        <h1>Random Joke!</h1>\n      </div>\n    );\n  }\n}\n\nexport default Random;\n","import React, { Component } from \"react\";\nimport { FiFacebook, FiTwitter } from \"react-icons/fi\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n  paramsToUrl,\n  urlToParams,\n  getInitialValue,\n  API_BASE,\n  API_RESULTS_LIMIT,\n  HOST_OPTIONS,\n  ORDER_OPTIONS,\n  SUGGESTED_QUERIES,\n  YEAR_OPTIONS\n} from \"../util\";\nimport { Loading } from \"../components/Loading\";\n\nconst resultSentence = n => `${n}${n === API_RESULTS_LIMIT ? \"+\" : \"\"} result${n !== 1 ? \"s\" : \"\"}`;\n\nconst enc = txt => encodeURIComponent(txt);\nconst shareMsg = \"Explore 35k+ monologue jokes from 10+ years of late night.\";\nconst shareUrl = \"https://latenightlol.com\";\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    const params = urlToParams(props.location.search);\n\n    this.state = {\n      jokes: null,\n      isLoading: false,\n      hasError: false,\n      lastSearchedQuery: null,\n      query: params.query || \"\",\n      host: getInitialValue(\"host\", params.host),\n      year: getInitialValue(\"year\", params.year),\n      order: getInitialValue(\"order\", params.order)\n    };\n  }\n\n  componentDidMount() {\n    this.fetchJokes();\n  }\n\n  handleQueryChange = e => {\n    const query = e.target.value;\n    this.setState({ query });\n  };\n\n  handleSelectChange = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value }, this.fetchJokes);\n  };\n\n  handleSuggestionClick = query => e => {\n    e.preventDefault();\n    this.setState({ query }, this.fetchJokes);\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.fetchJokes();\n  };\n\n  fetchJokes = async () => {\n    this.updateUrl();\n\n    const { query, host, year, order } = this.state;\n    if (!query) return;\n\n    this.setState({\n      jokes: [],\n      isLoading: true,\n      hasError: false,\n      lastSearchedQuery: query\n    });\n\n    try {\n      const urlParams = paramsToUrl({ query, host, year, order });\n      const response = await fetch(`${API_BASE}?${urlParams}`);\n      const data = await response.json();\n      this.setState({ jokes: data.results, isLoading: false });\n    } catch (err) {\n      console.log(\"Uh-oh! Something goofed up\", err);\n      this.setState({ isLoading: false, hasError: true });\n    }\n  };\n\n  updateUrl = () => {\n    const { location, history } = this.props;\n    const { query, host, year, order } = this.state;\n\n    const paramStr = paramsToUrl({ query, host, year, order });\n    const newPath = `?${paramStr}`;\n\n    if (newPath !== location.search) history.push(`?${paramStr}`);\n  };\n\n  render() {\n    const { query, host, year, order, jokes, isLoading, hasError, lastSearchedQuery } = this.state;\n\n    return (\n      <div className=\"app container mx-auto p2\">\n        <header className=\"mb2 flex\">\n          <div className=\"flex-auto\">\n            <h1 className=\"m0 h2 sm-h1\">\n              <a href=\"/\" className=\"text-decoration-none\">\n                Late Night Comedy Library\n              </a>\n            </h1>\n            <p className=\"m0 h4 sm-h3 line-height-1\">Explore 10+ years of monologue jokes</p>\n          </div>\n          <div className=\"flex flex-column justify-end right-align xs-hide\">\n            <div className=\"line-height-1\">\n              <a\n                href={`https://twitter.com/intent/tweet?text=${enc(shareMsg)}&url=${enc(shareUrl)}`}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                <FiTwitter className=\"ml1\" />\n              </a>\n              <a\n                href={`https://www.facebook.com/sharer.php?u=${enc(shareUrl)}`}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                <FiFacebook className=\"ml1\" />\n              </a>\n            </div>\n            <div className=\"h6\">\n              <Link to=\"/random\">Get random joke</Link>\n            </div>\n          </div>\n        </header>\n        <main className=\"app-content\">\n          <form\n            className=\"mb2 p2 sm-p3 bg-light rounded sm-flex justify-between\"\n            onSubmit={this.handleSubmit}\n          >\n            <div className=\"flex sm-col-6 mb2 sm-m0\">\n              <input\n                className=\"input m0 rounded-left\"\n                type=\"search\"\n                name=\"query\"\n                placeholder=\"Search...\"\n                value={query}\n                onChange={this.handleQueryChange}\n                required={true}\n              />\n              <button className=\"btn btn-primary rounded-right\" type=\"submit\" disabled={isLoading}>\n                Go\n              </button>\n            </div>\n            <div className=\"flex sm-col-5 mxn1 h5\">\n              <select\n                className=\"select mx1 my0 col-7\"\n                name=\"host\"\n                value={host}\n                onChange={this.handleSelectChange}\n              >\n                {HOST_OPTIONS.map(option => (\n                  <option key={option.id} value={option.id}>\n                    {option.display}\n                  </option>\n                ))}\n              </select>\n              <select\n                className=\"select mx1 my0 col-5\"\n                name=\"year\"\n                value={year}\n                onChange={this.handleSelectChange}\n              >\n                {YEAR_OPTIONS.map(option => (\n                  <option key={option.id} value={option.id}>\n                    {option.display}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </form>\n          {lastSearchedQuery == null && (\n            <div className=\"py1\">\n              <span className=\"mr1\">A few suggestions to get you started:</span>\n              {SUGGESTED_QUERIES.map(suggestion => (\n                <a\n                  key={suggestion}\n                  className=\"mr1 bold\"\n                  href=\"#!\"\n                  onClick={this.handleSuggestionClick(suggestion)}\n                >\n                  {suggestion}\n                </a>\n              ))}\n            </div>\n          )}\n          {jokes != null &&\n            (jokes.length === 0 ? (\n              isLoading ? (\n                <Loading />\n              ) : hasError ? (\n                <p className=\"my3 p2 h3 center rounded bg-red white\">\n                  <strong>Uh-oh!</strong> Something went wrong. Please try again in a few moments.\n                </p>\n              ) : (\n                <p className=\"my3 p2 h3 center rounded no-results\">\n                  <strong>Sorry!</strong> We couldn't find any results for{\" \"}\n                  <em>{lastSearchedQuery}</em>.\n                </p>\n              )\n            ) : (\n              <div>\n                <div className=\"mb2 flex items-center justify-between\">\n                  <h5 className=\"m0\">{resultSentence(jokes.length)}</h5>\n                  <div className=\"flex items-center justify-center\">\n                    <h5 className=\"m0 pr1 flex-none\">Sort by:</h5>\n                    <select\n                      className=\"m0 select select-skinny h5\"\n                      name=\"order\"\n                      value={order}\n                      onChange={this.handleSelectChange}\n                    >\n                      {ORDER_OPTIONS.map(option => (\n                        <option key={option.id} value={option.id}>\n                          {option.display}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n                {jokes.map(joke => (\n                  <div key={joke.id} className=\"mb3 pl2 py2 result\">\n                    <div className=\"mb2\">{joke.text}</div>\n                    <div className=\"h5\">\n                      {joke.host}\n                      <span className=\"px1\">/</span>\n                      {joke.date}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ))}\n        </main>\n        <footer className=\"mt3 pt2 h5 border-top border-light\">\n          <a href=\"https://brendansudol.com\" className=\"mr2\">\n            Made by @brensudol\n          </a>\n          <a href=\"https://github.com/brendansudol/late-night-jokes\" className=\"mr2\">\n            Code on GitHub\n          </a>\n          <a\n            href=\"mailto:brendansudol@gmail.com?Subject=Late%20Night%20Joke%20Library\"\n            className=\"mr2\"\n          >\n            Send feedback\n          </a>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\n\nimport \"ace-css/css/ace.min.css\";\nimport \"./index.css\";\n\nimport Random from \"./pages/Random\";\nimport Search from \"./pages/Search\";\n\nconst App = () => (\n  <HashRouter>\n    <Switch>\n      <Route exact path=\"/\" component={Search} />\n      <Route exact path=\"/random\" component={Random} />\n    </Switch>\n  </HashRouter>\n);\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}